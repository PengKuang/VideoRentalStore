{% extends 'base.html' %}

{% block title %}
<title>Returns</title>
{% endblock%}

{% block content %}
<div class="container">
    <div>
        <h2>Return Records</h2>
        <a class="btn btn-outline-warning" data-toggle="collapse" href="#pricetier" role="button" aria-expanded="false" aria-controls="pricetier">
            Late charge policy
        </a>
        <div class="collapse" id="pricetier">
            <div class="card card-body">
                <p>Price tiers (premium: 40 SEK, basic: 30 SEK)</p>
                <ul>
                    <li>New release: premium, 40 SEK per day</li>
                    <li>Regular film: basic, 30 SEK within 3 days, 30 SEK per day afterwards</li>
                    <li>Old film: basic, 30 SEK within 5 days, 30 SEK per day afterwards</li>
                </ul>
            </div>
        </div>
    </div>
    <hr/>
    {% if returns|length < 1 %}
    <h4>No film has been returned yet!</h4>
    <br>
    
    {% else %}
    <table class="table table-hover">
        <thead class="table-dark">
            <tr class="bg-warning">
                <th>Return ID</th>
                <th>Customer</th>
                <th>Film</th>
                <th>Category</th>
                <th>Start Date</th>
                <th>Return Date</th>
                <th>Overdue days</th>
                <th>Late Charge ($SEK)</th>
                <th>Total Price ($SEK)</th>
            </tr>
        </thead>

        <tbody>
            {% for return in returns%}
                <tr>
                    <td>{{ return.id }}</td>
                    <td>{{ return.cust_email }}</td>
                    <td>{{ return.film_name }}</td>
                    <td>{{ return.film_category }}</td>
                    <td>{{ return.start_date.date() }}</td>
                    <td>{{ return.return_date.date() }}</td>
                    <td>{{ return.overdue_days }}</td>
                    <td>{{ return.late_charge }}</td>
                    <td>{{ return.total_price }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
    <hr/>
</div>
{% endblock%}